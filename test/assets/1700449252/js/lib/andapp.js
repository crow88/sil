define(["jquery","underscore"],function(a,b){var c=function(a,b){var c={funcName:"andapp:"+a,value:b};window.postMessage(c,Game.baseUri)},d=function(){};return b.extend(d.prototype,{setGameSetting:function(){return c("setGameSetting",{userId:Game.userId,lang:Game.lang})},hideBackground:function(){return c("hideBackground")},toggleWindow:function(a){return c("toggleWindow",{isOpen:a})},openBrowser:function(a){return c("openBrowser",{url:a})},appUpdate:function(){return c("appUpdate")},clearCache:function(){var b=a.Deferred();return window.addEventListener("message",function d(a){"andapp:doneClearedCache"===a.data.funcName&&(window.removeEventListener("message",d),b.resolve())}),c("clearCache"),b}}),new d});